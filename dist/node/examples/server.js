"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const ServerRunner_1 = require("../ServerRunner");
const ExampleWebServer_1 = require("./microservices/ExampleWebServer");
const ExampleWebSocketServer_1 = require("./microservices/ExampleWebSocketServer");
const Backend_1 = require("./backend/Backend");
const logging_1 = require("../logging");
const path_1 = __importDefault(require("path"));
const namespace = "example";
const logStrategy = new logging_1.ConsoleStrategy();
const backend = new Backend_1.Backend();
const exampleWebServer = new ExampleWebServer_1.ExampleWebServer(backend, {
    namespace,
    logStrategy,
    serviceId: "webservice",
    port: 8082,
    staticDir: path_1.default.join(path_1.default.resolve(__dirname, "../.."), "/public"),
});
const exampleWebSocketServer = new ExampleWebSocketServer_1.ExampleWebSocketServer(backend, {
    namespace,
    logStrategy,
    serviceId: "websocket",
    path: "/ws",
    port: 8083,
});
const server = new ServerRunner_1.ServerRunner();
server.registerService(exampleWebServer);
server.registerService(exampleWebSocketServer);
server.start();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2V4YW1wbGVzL3NlcnZlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLGtEQUErQztBQUcvQyx1RUFBb0U7QUFDcEUsbUZBQWdGO0FBQ2hGLCtDQUE0QztBQUM1Qyx3Q0FBNkM7QUFDN0MsZ0RBQXdCO0FBRXhCLE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQztBQUM1QixNQUFNLFdBQVcsR0FBRyxJQUFJLHlCQUFlLEVBQUUsQ0FBQztBQUMxQyxNQUFNLE9BQU8sR0FBRyxJQUFJLGlCQUFPLEVBQUUsQ0FBQztBQUU5QixNQUFNLGdCQUFnQixHQUFHLElBQUksbUNBQWdCLENBQUMsT0FBTyxFQUFFO0lBQ3JELFNBQVM7SUFDVCxXQUFXO0lBQ1gsU0FBUyxFQUFFLFlBQVk7SUFDdkIsSUFBSSxFQUFFLElBQUk7SUFDVixTQUFTLEVBQUUsY0FBSSxDQUFDLElBQUksQ0FBQyxjQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsRUFBRSxTQUFTLENBQUM7Q0FDbEUsQ0FBQyxDQUFDO0FBRUgsTUFBTSxzQkFBc0IsR0FBRyxJQUFJLCtDQUFzQixDQUFDLE9BQU8sRUFBRTtJQUNqRSxTQUFTO0lBQ1QsV0FBVztJQUNYLFNBQVMsRUFBRSxXQUFXO0lBQ3RCLElBQUksRUFBRSxLQUFLO0lBQ1gsSUFBSSxFQUFFLElBQUk7Q0FDWCxDQUFDLENBQUM7QUFFSCxNQUFNLE1BQU0sR0FBRyxJQUFJLDJCQUFZLEVBQUUsQ0FBQztBQUNsQyxNQUFNLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFDekMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0FBQy9DLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlcnZlclJ1bm5lciB9IGZyb20gXCIuLi9TZXJ2ZXJSdW5uZXJcIjtcbmltcG9ydCB7IFBpbmdTZXJ2aWNlIH0gZnJvbSBcIi4vbWljcm9zZXJ2aWNlcy9QaW5nU2VydmljZVwiO1xuaW1wb3J0IHsgUG9uZ1NlcnZpY2UgfSBmcm9tIFwiLi9taWNyb3NlcnZpY2VzL1BvbmdTZXJ2aWNlXCI7XG5pbXBvcnQgeyBFeGFtcGxlV2ViU2VydmVyIH0gZnJvbSBcIi4vbWljcm9zZXJ2aWNlcy9FeGFtcGxlV2ViU2VydmVyXCI7XG5pbXBvcnQgeyBFeGFtcGxlV2ViU29ja2V0U2VydmVyIH0gZnJvbSBcIi4vbWljcm9zZXJ2aWNlcy9FeGFtcGxlV2ViU29ja2V0U2VydmVyXCI7XG5pbXBvcnQgeyBCYWNrZW5kIH0gZnJvbSBcIi4vYmFja2VuZC9CYWNrZW5kXCI7XG5pbXBvcnQgeyBDb25zb2xlU3RyYXRlZ3kgfSBmcm9tIFwiLi4vbG9nZ2luZ1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcblxuY29uc3QgbmFtZXNwYWNlID0gXCJleGFtcGxlXCI7XG5jb25zdCBsb2dTdHJhdGVneSA9IG5ldyBDb25zb2xlU3RyYXRlZ3koKTtcbmNvbnN0IGJhY2tlbmQgPSBuZXcgQmFja2VuZCgpO1xuXG5jb25zdCBleGFtcGxlV2ViU2VydmVyID0gbmV3IEV4YW1wbGVXZWJTZXJ2ZXIoYmFja2VuZCwge1xuICBuYW1lc3BhY2UsXG4gIGxvZ1N0cmF0ZWd5LFxuICBzZXJ2aWNlSWQ6IFwid2Vic2VydmljZVwiLFxuICBwb3J0OiA4MDgyLFxuICBzdGF0aWNEaXI6IHBhdGguam9pbihwYXRoLnJlc29sdmUoX19kaXJuYW1lLCBcIi4uLy4uXCIpLCBcIi9wdWJsaWNcIiksXG59KTtcblxuY29uc3QgZXhhbXBsZVdlYlNvY2tldFNlcnZlciA9IG5ldyBFeGFtcGxlV2ViU29ja2V0U2VydmVyKGJhY2tlbmQsIHtcbiAgbmFtZXNwYWNlLFxuICBsb2dTdHJhdGVneSxcbiAgc2VydmljZUlkOiBcIndlYnNvY2tldFwiLFxuICBwYXRoOiBcIi93c1wiLFxuICBwb3J0OiA4MDgzLFxufSk7XG5cbmNvbnN0IHNlcnZlciA9IG5ldyBTZXJ2ZXJSdW5uZXIoKTtcbnNlcnZlci5yZWdpc3RlclNlcnZpY2UoZXhhbXBsZVdlYlNlcnZlcik7XG5zZXJ2ZXIucmVnaXN0ZXJTZXJ2aWNlKGV4YW1wbGVXZWJTb2NrZXRTZXJ2ZXIpO1xuc2VydmVyLnN0YXJ0KCk7XG4iXX0=