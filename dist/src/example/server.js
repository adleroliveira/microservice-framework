"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ServerRunner_1 = require("../ServerRunner");
const PingService_1 = require("./microservices/ping/PingService");
const PongService_1 = require("./microservices/pong/PongService");
const Backend_1 = require("./backend/Backend");
const MicroserviceFramework_1 = require("..//MicroserviceFramework");
const namespace = "example";
const logStrategy = new MicroserviceFramework_1.ConsoleStrategy();
const backend = new Backend_1.Backend();
const pongConfig = {
    namespace,
    logStrategy,
    serviceId: "pong",
    concurrencyLimit: 1,
    requestsPerInterval: 1,
    interval: 1000,
    statusUpdateInterval: 2000,
};
const ping = new PingService_1.PingService(backend, {
    namespace,
    logStrategy,
    serviceId: "ping",
});
const pong1 = new PongService_1.PongService(backend, pongConfig);
const pong2 = new PongService_1.PongService(backend, pongConfig);
const pong3 = new PongService_1.PongService(backend, pongConfig);
const server = new ServerRunner_1.ServerRunner();
server.registerService(ping);
server.registerService(pong1);
server.registerService(pong2);
server.registerService(pong3);
server.start();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2V4YW1wbGUvc2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsa0RBQStDO0FBQy9DLGtFQUErRDtBQUMvRCxrRUFBK0Q7QUFDL0QsK0NBQTRDO0FBQzVDLHFFQUE0RDtBQUU1RCxNQUFNLFNBQVMsR0FBRyxTQUFTLENBQUM7QUFDNUIsTUFBTSxXQUFXLEdBQUcsSUFBSSx1Q0FBZSxFQUFFLENBQUM7QUFDMUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxpQkFBTyxFQUFFLENBQUM7QUFFOUIsTUFBTSxVQUFVLEdBQUc7SUFDakIsU0FBUztJQUNULFdBQVc7SUFDWCxTQUFTLEVBQUUsTUFBTTtJQUNqQixnQkFBZ0IsRUFBRSxDQUFDO0lBQ25CLG1CQUFtQixFQUFFLENBQUM7SUFDdEIsUUFBUSxFQUFFLElBQUk7SUFDZCxvQkFBb0IsRUFBRSxJQUFJO0NBQzNCLENBQUM7QUFFRixNQUFNLElBQUksR0FBRyxJQUFJLHlCQUFXLENBQUMsT0FBTyxFQUFFO0lBQ3BDLFNBQVM7SUFDVCxXQUFXO0lBQ1gsU0FBUyxFQUFFLE1BQU07Q0FDbEIsQ0FBQyxDQUFDO0FBRUgsTUFBTSxLQUFLLEdBQUcsSUFBSSx5QkFBVyxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNuRCxNQUFNLEtBQUssR0FBRyxJQUFJLHlCQUFXLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQ25ELE1BQU0sS0FBSyxHQUFHLElBQUkseUJBQVcsQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFFbkQsTUFBTSxNQUFNLEdBQUcsSUFBSSwyQkFBWSxFQUFFLENBQUM7QUFDbEMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM3QixNQUFNLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzlCLE1BQU0sQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDOUIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM5QixNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXJ2ZXJSdW5uZXIgfSBmcm9tIFwiLi4vU2VydmVyUnVubmVyXCI7XG5pbXBvcnQgeyBQaW5nU2VydmljZSB9IGZyb20gXCIuL21pY3Jvc2VydmljZXMvcGluZy9QaW5nU2VydmljZVwiO1xuaW1wb3J0IHsgUG9uZ1NlcnZpY2UgfSBmcm9tIFwiLi9taWNyb3NlcnZpY2VzL3BvbmcvUG9uZ1NlcnZpY2VcIjtcbmltcG9ydCB7IEJhY2tlbmQgfSBmcm9tIFwiLi9iYWNrZW5kL0JhY2tlbmRcIjtcbmltcG9ydCB7IENvbnNvbGVTdHJhdGVneSB9IGZyb20gXCIuLi8vTWljcm9zZXJ2aWNlRnJhbWV3b3JrXCI7XG5cbmNvbnN0IG5hbWVzcGFjZSA9IFwiZXhhbXBsZVwiO1xuY29uc3QgbG9nU3RyYXRlZ3kgPSBuZXcgQ29uc29sZVN0cmF0ZWd5KCk7XG5jb25zdCBiYWNrZW5kID0gbmV3IEJhY2tlbmQoKTtcblxuY29uc3QgcG9uZ0NvbmZpZyA9IHtcbiAgbmFtZXNwYWNlLFxuICBsb2dTdHJhdGVneSxcbiAgc2VydmljZUlkOiBcInBvbmdcIixcbiAgY29uY3VycmVuY3lMaW1pdDogMSxcbiAgcmVxdWVzdHNQZXJJbnRlcnZhbDogMSxcbiAgaW50ZXJ2YWw6IDEwMDAsXG4gIHN0YXR1c1VwZGF0ZUludGVydmFsOiAyMDAwLFxufTtcblxuY29uc3QgcGluZyA9IG5ldyBQaW5nU2VydmljZShiYWNrZW5kLCB7XG4gIG5hbWVzcGFjZSxcbiAgbG9nU3RyYXRlZ3ksXG4gIHNlcnZpY2VJZDogXCJwaW5nXCIsXG59KTtcblxuY29uc3QgcG9uZzEgPSBuZXcgUG9uZ1NlcnZpY2UoYmFja2VuZCwgcG9uZ0NvbmZpZyk7XG5jb25zdCBwb25nMiA9IG5ldyBQb25nU2VydmljZShiYWNrZW5kLCBwb25nQ29uZmlnKTtcbmNvbnN0IHBvbmczID0gbmV3IFBvbmdTZXJ2aWNlKGJhY2tlbmQsIHBvbmdDb25maWcpO1xuXG5jb25zdCBzZXJ2ZXIgPSBuZXcgU2VydmVyUnVubmVyKCk7XG5zZXJ2ZXIucmVnaXN0ZXJTZXJ2aWNlKHBpbmcpO1xuc2VydmVyLnJlZ2lzdGVyU2VydmljZShwb25nMSk7XG5zZXJ2ZXIucmVnaXN0ZXJTZXJ2aWNlKHBvbmcyKTtcbnNlcnZlci5yZWdpc3RlclNlcnZpY2UocG9uZzMpO1xuc2VydmVyLnN0YXJ0KCk7XG4iXX0=